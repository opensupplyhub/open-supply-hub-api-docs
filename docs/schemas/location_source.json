{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "type": "object",
  "description": "This schema represents a source of location creation or contribution to existing location.",
  "allOf": [
    {
      "properties": {
        "source": {
          "type": "string",
          "description": "Indicates the type of production location contribution that was requested.",
          "enum": ["API", "SLC"]
        },
        "sector": {
          "oneOf": [
            {
              "type": "array",
              "minItems": 1,
              "description": "The sector that the location operates in.",
              "items": {
                "type": "string",
                "minLength": 1
              }
            },
            {
              "type": "string",
              "minLength": 1,
              "description": "The sector in which the location operates. To provide more than one sector value, you can use a comma (,) or a vertical bar (|) as delimiters between values."
            }
          ]
        },
        "product_type": {
          "oneOf": [
            {
              "type": "array",
              "minItems": 1,
              "description": "The product type that the production location produces.",
              "items": {
                "type": "string",
                "minLength": 1
              }
            },
            {
              "type": "string",
              "minLength": 1,
              "description": "The product type that the production location produces. To provide more than one product type value, you can use a comma (,) or a vertical bar (|) as delimiters between values."
            }
          ]
        },
        "location_type": {
          "oneOf": [
            {
              "type": "array",
              "minItems": 1,
              "description": "The location type that defines the activities occurring at this production location from a high-level perspective.",
              "items": {
                "minLength": 1,
                "type": "string"
              }
            },
            {
              "type": "string",
              "minLength": 1,
              "description": "The location type that defines the activities occurring at this production location from a high-level perspective. To provide more than one location type value, you can use a comma (,) or a vertical bar (|) as delimiters between values."
            }
          ]
        },
        "processing_type": {
          "oneOf": [
            {
              "type": "array",
              "minItems": 1,
              "description": "The processing type that defines the activities occurring at this production location from a more granular perspective.",
              "items": {
                "minLength": 1,
                "type": "string"
              }
            },
            {
              "type": "string",
              "minLength": 1,
              "description": "The processing type that defines the activities occurring at this production location from a more granular perspective. To provide more than one processing type value, you can use a comma (,) or a vertical bar (|) as delimiters between values."
            }
          ]
        },
        "parent_company": {
          "type": "string",
          "maxLength": 200,
          "description": "The name of the parent company of the location."
        },
        "additional_ids": {
          "type": "object",
          "description": "Additional identifiers for the location.",
          "properties": {
            "duns_id": {
              "type": "string",
              "maxLength": 9,
              "minLength": 9,
              "pattern": "^[0-9]{9}$",
              "description": "The DUNS ID of the location."
            },
            "lei_id": {
              "type": "string",
              "maxLength": 20,              
              "minLength": 20,
              "pattern": "^[A-Z0-9]{18}[0-9]{2}$",
              "description": "The LEI ID of the location."
            },
            "rba_id": {
              "type": "string",
              "maxLength": 255,
              "description": "The RBA ID of the location."
            }
          }
        }
      }
    },
    {
      "$ref": "location_main.json"
    }
  ]
}
